<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shopping Cart</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body class="cart-page">
    <header>
		<nav class="navbar">
		<div class="logo">
			<a href="Homepage.html" class="logo" style="text-decoration: none; color: inherit;">
                <img src="assets/fairytale.png" alt="404 Books logo" style="vertical-align:middle; margin-right:6px; width:32px; height:32px;">
                <span style="font-weight:bold;">404 Books</span>
            </a>
		</div>
        <div class="search-bar-wrap">
    		<span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
    		<input type="text" id="searchBar" placeholder="Search books or authors...">
    	</div>
		<button class="hamburger" aria-label="Open Menu">
			<span></span>
			<span></span>
			<span></span>
		</button>
		<ul class="nav-links">
			<li><a href="Homepage.html">Homepage</a></li>
			<li><a href="AboutUs.html">About Us</a></li>
			<li class="dropdown">
				<a href="#">Category</a>
				<ul class="dropdown-menu">
					<li><a href="fiction.html">Fiction</a></li>
					<li><a href="non_fiction.html">Non-Fiction</a></li>
            		<li><a href="children.html">Children</a></li>
				</ul>
			</li>
			<li><a href="BookListingPage.html">Browse Books</a></li>
			<li><a href="cart.html">Checkout</a></li>
			<li><a href="LoginPage.html">Login / Register</a></li>
			<li><a href="contactus.html">Contact Us</a></li>
        </ul>
        </nav>
    </header>

    <h1>Shopping Cart ðŸ›’</h1>

    <div class="cart-container">
        <div class="cart-header">
            <div>Image</div>
            <div>Title</div>
            <div>Price</div>
            <div>Qty</div>
            <div>Subtotal</div>
            <div>Remove</div>
        </div>
    <div id="cart-body">
    </div>
    <div class="cart-footer">
      <div></div><div></div><div></div>
      <div>Total:</div>
      <div id="cart-total">RM0.00</div>
      <div></div>
    </div>
  </div>

  <button class="checkout-btn">Proceed to Checkout</button>

    <script>
        const cartBody = document.getElementById('cart-body');
        const cartTotal = document.getElementById('cart-total');
        const checkoutBtn = document.querySelector(".checkout-btn");

        function renderCart() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];

        cartBody.innerHTML = '';
        let total = 0;

        if (cart.length === 0) {
        cartBody.innerHTML = `
            <div class="empty-cart">
            <p>Your cart is empty</p>
            <a href="BookListingPage.html" class="continue-btn">Continue Shopping</a>
            </div>
      ` ;
        cartTotal.textContent = 'RM0.00';
        if (checkoutBtn) checkoutBtn.style.display = "none";
        return;
        }   else {
        if (checkoutBtn) checkoutBtn.style.display = "inline-block";
        }

        cart.forEach((item, index) => {
            const subtotal = item.price * item.quantity;
            total += subtotal;

            const row = document.createElement('div');
            row.className = 'cart-item';
            row.innerHTML = `
            <div><img src="${item.image}" alt="${item.title}"></div>
            <div>${item.title}</div>
            <div>RM${item.price.toFixed(2)}</div>
            <div><input type="number" min="1" value="${item.quantity}" onchange="updateQty(${index}, this.value)"></div>
            <div>RM${subtotal.toFixed(2)}</div>
            <div><button class="remove-btn" onclick="removeItem(${index})">ðŸ—‘</button></div>
      ` ;
        cartBody.appendChild(row);
        });

        cartTotal.textContent = `RM${total.toFixed(2)}`;
        }

        function updateQty(index, newQty) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart[index].quantity = parseInt(newQty);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        }

        function removeItem(index) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        }

        renderCart();
    </script>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="Homepage.html">Home Page</a></li>
                <li><a href="LoginPage.html">Login/Register</a></li>
                <li><a href="cart.html">Checkout</a></li>
            </ul>
            </div>

            <div class="footer-column">
            <h4>Categories</h4>
            <ul>
                <li><a href="fiction.html">Fiction</a></li>
                <li><a href="non_fiction.html">Non-Fiction</a></li>
                <li><a href="children.html">Children</a></li>
                <li><a href="BookListingPage.html" class="view-all">View all â†’</a></li>
            </ul>
            </div>

            <div class="footer-column">
            <h4>Help Support</h4>
            <ul>
                <li><a href="contactus.html">Contact Us</a></li>
                <li><a href="AboutUs.html">About Us</a></li>
            </ul>
            </div>

            <div class="footer-column">
                <div>
                    <h5>We Accept</h5>
                    <div class="icon-row">
                        <img src="https://assets.weforum.org/organization/image/yFunkV0W77JU9xxSXu9TqQdHW6LMfjthWYhioQemDKo.jpeg" alt="Visa" />
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTD7oa6-WXok1YXYt8GN4CWbzJOpeBf69159Q&s" alt="MasterCard" />
                        <img src="https://woztell.com/wp-content/uploads/2025/05/woztell-extension-paypal-main.jpg" alt="PayPal" />
                    </div>
                </div>

                <div>
                    <h5>Follow Us</h5>
                    <div class="icon-row">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Facebook_logo_%28square%29.png/960px-Facebook_logo_%28square%29.png" alt="Facebook" />
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4zxKMOl-OafWRD6rUQ1kOXLSOH9NbR7ZLXA&s" alt="Whatsapp" />
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Instagram_logo_2022.svg/1200px-Instagram_logo_2022.svg.png" alt="Instagram" />
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFXRXd_LFLvL5i2puVIzEP4MO9GvP-33BDZQ&s" alt="WeChat" />
                    </div>
                </div>
            </div>
		</div>
        <p>&copy; 2025 404 Books. All rights reserved.</p>
        <p>Terms & Conditions | Privacy Policy | Return Policy</p>
Â Â Â Â </footer>

    <a href="#" class="livechat-float-btn" title="Live Chat">Live Chat</a>
    <script src="script.js"></script>

</body>
</html>

